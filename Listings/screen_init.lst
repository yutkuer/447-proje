


ARM Macro Assembler    Page 1 


    1 00000000 400FE608 
                       SYSCTL_RCGCGPIO
                               EQU              0x400FE608
    2 00000000 400043FC 
                       GPIO_PORTA_DATA
                               EQU              0x400043FC
    3 00000000 40004010 
                       GPIO_PORTA_IM
                               EQU              0x40004010
    4 00000000 40004400 
                       GPIO_PORTA_DIR
                               EQU              0x40004400
    5 00000000 40004420 
                       GPIO_PORTA_AFSEL
                               EQU              0x40004420
    6 00000000 4000451C 
                       GPIO_PORTA_DEN
                               EQU              0x4000451C
    7 00000000 40004528 
                       GPIO_PORTA_AMSEL
                               EQU              0x40004528
    8 00000000 4000452C 
                       GPIO_PORTA_PCTL
                               EQU              0x4000452C
    9 00000000         
   10 00000000 400FE61C 
                       SYSCTL_RCGCSSI
                               EQU              0x400FE61C
   11 00000000 40008000 
                       SSI0_CR0
                               EQU              0x40008000
   12 00000000 40008004 
                       SSI0_CR1
                               EQU              0x40008004
   13 00000000 40008008 
                       SSI0_DR EQU              0x40008008
   14 00000000 4000800C 
                       SSI0_SR EQU              0x4000800C
   15 00000000 40008010 
                       SSI0_CPSR
                               EQU              0x40008010
   16 00000000 40008FC8 
                       SSI0_CC EQU              0x40008FC8
   17 00000000         
   18 00000000         
   19 00000000         ;LABEL   DIRECTIVE VALUE    COMMENT 
   20 00000000                 AREA             screen, CODE, READONLY, ALIGN=2
   21 00000000                 THUMB
   22 00000000         
   23 00000000                 IMPORT           DELAY100
   24 00000000                 IMPORT           SCR_XY
   25 00000000                 IMPORT           SCR_CHAR
   26 00000000                 IMPORT           SCR_BYTE
   27 00000000                 EXPORT           SCREEN_INIT
   28 00000000         
   29 00000000         
   30 00000000         SCREEN_INIT
                               PROC
   31 00000000 B500            PUSH             {LR}



ARM Macro Assembler    Page 2 


   32 00000002         ; SETUP GPIO
   33 00000002 4943            LDR              R1, =SYSCTL_RCGCGPIO
   34 00000004 6808            LDR              R0, [R1]
   35 00000006 F040 0001       ORR              R0, #0x01   ;PORTA
   36 0000000A 6008            STR              R0, [R1]
   37 0000000C BF00            NOP
   38 0000000E BF00            NOP
   39 00000010 BF00            NOP
   40 00000012 4940            LDR              R1,=GPIO_PORTA_DIR
   41 00000014 6808            LDR              R0, [R1]
   42 00000016 F040 00EC       ORR              R0, #0xEC   ; OUTPUT 2,3,5,6,7
   43 0000001A 6008            STR              R0,[R1]
   44 0000001C 493E            LDR              R1,=GPIO_PORTA_AFSEL
   45 0000001E 6808            LDR              R0, [R1]
   46 00000020 F040 002C       ORR              R0, #0x2C   ; ALTERNATE PA2,3,5
                                                            
   47 00000024 6008            STR              R0,[R1]
   48 00000026 493D            LDR              R1,=GPIO_PORTA_DEN
   49 00000028 6808            LDR              R0, [R1]
   50 0000002A F040 00EC       ORR              R0, #0XEC
   51 0000002E 6008            STR              R0,[R1]
   52 00000030 493B            LDR              R1,=GPIO_PORTA_PCTL
   53 00000032 483C            LDR              R0, =0x00202200 ; PA2,3,5 SSI  
                                                            
   54 00000034 6008            STR              R0,[R1]
   55 00000036 493C            LDR              R1,=GPIO_PORTA_AMSEL
   56 00000038 6808            LDR              R0, [R1]
   57 0000003A F020 00EC       BIC              R0, #0xEC
   58 0000003E 6008            STR              R0,[R1]
   59 00000040         
   60 00000040         ; Setup SSI 
   61 00000040 493A            LDR              R1,=SYSCTL_RCGCSSI
   62 00000042 6808            LDR              R0,[R1]
   63 00000044 F040 0001       ORR              R0, #0x01   ; SSI0
   64 00000048 6008            STR              R0,[R1]
   65 0000004A F7FF FFFE       BL               DELAY100
   66 0000004E BF00            NOP
   67 00000050 BF00            NOP
   68 00000052 4937            LDR              R1,=SSI0_CR1
   69 00000054 F04F 0000       MOV              R0, #0x00   ; DISABLE SSI
   70 00000058 6008            STR              R0,[R1]
   71 0000005A         
   72 0000005A         ; 1MHZ BAUD, SYSCLOCK, CPSDVSR = 8, SCR = 1
   73 0000005A 4936            LDR              R1,=SSI0_CC
   74 0000005C F04F 0005       MOV              R0,#0x05    ; PIOSC
   75 00000060 6008            STR              R0,[R1]
   76 00000062 4935            LDR              R1,=SSI0_CR0
   77 00000064 6808            LDR              R0,[R1]
   78 00000066 F440 7080       ORR              R0, #0x0100 ; SCR 1
   79 0000006A 6008            STR              R0,[R1]
   80 0000006C 4933            LDR              R1,=SSI0_CPSR
   81 0000006E F04F 0008       MOV              R0, #0x08   ; CPSDVSR 8
   82 00000072 6008            STR              R0,[R1]
   83 00000074 4930            LDR              R1,=SSI0_CR0
   84 00000076 6808            LDR              R0,[R1]
   85 00000078 F020 003F       BIC              R0, #0x3F   ; FREESCALE  
   86 0000007C F040 0007       ORR              R0, #0x07   ; 8BIT
   87 00000080 6008            STR              R0,[R1]
   88 00000082 492B            LDR              R1,=SSI0_CR1 ; ENABLE SSI



ARM Macro Assembler    Page 3 


   89 00000084 6808            LDR              R0,[R1]
   90 00000086 F040 0002       ORR              R0, #0x02
   91 0000008A 6008            STR              R0,[R1]
   92 0000008C         
   93 0000008C         ; RESET LCD 
   94 0000008C 492C            LDR              R1,=GPIO_PORTA_DATA
   95 0000008E 6808            LDR              R0, [R1]
   96 00000090 F020 0080       BIC              R0, #0x80   ; LOW RESET
   97 00000094 6008            STR              R0,[R1]
   98 00000096 F7FF FFFE       BL               DELAY100    ; LOW FOR 100MSEC
   99 0000009A 4929            LDR              R1,=GPIO_PORTA_DATA
  100 0000009C F040 0080       ORR              R0, #0x80   ; HIGH RESET
  101 000000A0 6008            STR              R0,[R1]
  102 000000A2         ; SETUP LCD
  103 000000A2 4927            LDR              R1,=GPIO_PORTA_DATA 
                                                            ; COMMAND MODE
  104 000000A4 6808            LDR              R0,[R1]
  105 000000A6 F020 0040       BIC              R0, #0x40
  106 000000AA 6008            STR              R0,[R1]
  107 000000AC         
  108 000000AC         
  109 000000AC F04F 0521       MOV              R5,#0x21    ; H=1, V=0
  110 000000B0 F7FF FFFE       BL               SCR_BYTE
  111 000000B4 F04F 05B8       MOV              R5,#0xB8    ; VOP
  112 000000B8 F7FF FFFE       BL               SCR_BYTE
  113 000000BC F04F 0504       MOV              R5,#0x04    ; TEMP COEF
  114 000000C0 F7FF FFFE       BL               SCR_BYTE
  115 000000C4 F04F 0520       MOV              R5,#0x20    ; BIAS (0X13 IS BAD
                                                            )
  116 000000C8 F7FF FFFE       BL               SCR_BYTE
  117 000000CC F04F 0520       MOV              R5,#0x20    ; H=0
  118 000000D0 F7FF FFFE       BL               SCR_BYTE
  119 000000D4 F04F 050C       MOV              R5,#0x0C    ; NORMAL DISPLAY MO
                                                            DE
  120 000000D8 F7FF FFFE       BL               SCR_BYTE
  121 000000DC         
  122 000000DC         ; CLEAR SCREEN
  123 000000DC 4919    CLRBSY  LDR              R1,=SSI0_SR ; CHECK BUSY
  124 000000DE 6808            LDR              R0,[R1]
  125 000000E0 F010 0010       ANDS             R0,R0,#0x10
  126 000000E4 D1FA            BNE              CLRBSY
  127 000000E6 4916            LDR              R1,=GPIO_PORTA_DATA
  128 000000E8 6808            LDR              R0,[R1]
  129 000000EA F040 0040       ORR              R0,#0x40    ; DATA MODE
  130 000000EE 6008            STR              R0,[R1]
  131 000000F0 F44F 70FC       MOV              R0,#504     ; 48*84/8     
  132 000000F4 F04F 0500       MOV              R5,#0x00
  133 000000F8         
  134 000000F8 F7FF FFFE 
                       CLRLOOP BL               SCR_BYTE
  135 000000FC 3801            SUBS             R0,#1
  136 000000FE D1FB            BNE              CLRLOOP
  137 00000100         
  138 00000100 4910    CLREND  LDR              R1,=SSI0_SR
  139 00000102 6808            LDR              R0,[R1]
  140 00000104 F010 0010       ANDS             R0,R0,#0x10 ;CHECK BUSY
  141 00000108 D1FA            BNE              CLREND
  142 0000010A         
  143 0000010A F85D EB04       POP              {LR}



ARM Macro Assembler    Page 4 


  144 0000010E 4770            BX               LR
  145 00000110                 ALIGN
  146 00000110                 END
              400FE608 
              40004400 
              40004420 
              4000451C 
              4000452C 
              00202200 
              40004528 
              400FE61C 
              40008004 
              40008FC8 
              40008000 
              40008010 
              400043FC 
              4000800C 
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M4.fp --apcs=int
erwork --depend=.\objects\screen_init.d -o.\objects\screen_init.o -IC:\Users\us
er\Desktop\DENEME4\trial\RTE -IC:\Keil_v5\ARM\PACK\ARM\CMSIS\5.0.0-Beta12\CMSIS
\Include -IC:\Keil_v5\ARM\PACK\Keil\TM4C_DFP\1.1.0\Device\Include\TM4C123 --pre
define="__EVAL SETA 1" --predefine="__UVISION_VERSION SETA 521" --predefine="_R
TE_ SETA 1" --predefine="TM4C123GH6PM SETA 1" --list=.\listings\screen_init.lst
 SCREEN_INIT.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

CLRBSY 000000DC

Symbol: CLRBSY
   Definitions
      At line 123 in file SCREEN_INIT.s
   Uses
      At line 126 in file SCREEN_INIT.s
Comment: CLRBSY used once
CLREND 00000100

Symbol: CLREND
   Definitions
      At line 138 in file SCREEN_INIT.s
   Uses
      At line 141 in file SCREEN_INIT.s
Comment: CLREND used once
CLRLOOP 000000F8

Symbol: CLRLOOP
   Definitions
      At line 134 in file SCREEN_INIT.s
   Uses
      At line 136 in file SCREEN_INIT.s
Comment: CLRLOOP used once
SCREEN_INIT 00000000

Symbol: SCREEN_INIT
   Definitions
      At line 30 in file SCREEN_INIT.s
   Uses
      At line 27 in file SCREEN_INIT.s
Comment: SCREEN_INIT used once
screen 00000000

Symbol: screen
   Definitions
      At line 20 in file SCREEN_INIT.s
   Uses
      None
Comment: screen unused
5 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

GPIO_PORTA_AFSEL 40004420

Symbol: GPIO_PORTA_AFSEL
   Definitions
      At line 5 in file SCREEN_INIT.s
   Uses
      At line 44 in file SCREEN_INIT.s
Comment: GPIO_PORTA_AFSEL used once
GPIO_PORTA_AMSEL 40004528

Symbol: GPIO_PORTA_AMSEL
   Definitions
      At line 7 in file SCREEN_INIT.s
   Uses
      At line 55 in file SCREEN_INIT.s
Comment: GPIO_PORTA_AMSEL used once
GPIO_PORTA_DATA 400043FC

Symbol: GPIO_PORTA_DATA
   Definitions
      At line 2 in file SCREEN_INIT.s
   Uses
      At line 94 in file SCREEN_INIT.s
      At line 99 in file SCREEN_INIT.s
      At line 103 in file SCREEN_INIT.s
      At line 127 in file SCREEN_INIT.s

GPIO_PORTA_DEN 4000451C

Symbol: GPIO_PORTA_DEN
   Definitions
      At line 6 in file SCREEN_INIT.s
   Uses
      At line 48 in file SCREEN_INIT.s
Comment: GPIO_PORTA_DEN used once
GPIO_PORTA_DIR 40004400

Symbol: GPIO_PORTA_DIR
   Definitions
      At line 4 in file SCREEN_INIT.s
   Uses
      At line 40 in file SCREEN_INIT.s
Comment: GPIO_PORTA_DIR used once
GPIO_PORTA_IM 40004010

Symbol: GPIO_PORTA_IM
   Definitions
      At line 3 in file SCREEN_INIT.s
   Uses
      None
Comment: GPIO_PORTA_IM unused
GPIO_PORTA_PCTL 4000452C

Symbol: GPIO_PORTA_PCTL
   Definitions
      At line 8 in file SCREEN_INIT.s
   Uses
      At line 52 in file SCREEN_INIT.s
Comment: GPIO_PORTA_PCTL used once



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Absolute symbols

SSI0_CC 40008FC8

Symbol: SSI0_CC
   Definitions
      At line 16 in file SCREEN_INIT.s
   Uses
      At line 73 in file SCREEN_INIT.s
Comment: SSI0_CC used once
SSI0_CPSR 40008010

Symbol: SSI0_CPSR
   Definitions
      At line 15 in file SCREEN_INIT.s
   Uses
      At line 80 in file SCREEN_INIT.s
Comment: SSI0_CPSR used once
SSI0_CR0 40008000

Symbol: SSI0_CR0
   Definitions
      At line 11 in file SCREEN_INIT.s
   Uses
      At line 76 in file SCREEN_INIT.s
      At line 83 in file SCREEN_INIT.s

SSI0_CR1 40008004

Symbol: SSI0_CR1
   Definitions
      At line 12 in file SCREEN_INIT.s
   Uses
      At line 68 in file SCREEN_INIT.s
      At line 88 in file SCREEN_INIT.s

SSI0_DR 40008008

Symbol: SSI0_DR
   Definitions
      At line 13 in file SCREEN_INIT.s
   Uses
      None
Comment: SSI0_DR unused
SSI0_SR 4000800C

Symbol: SSI0_SR
   Definitions
      At line 14 in file SCREEN_INIT.s
   Uses
      At line 123 in file SCREEN_INIT.s
      At line 138 in file SCREEN_INIT.s

SYSCTL_RCGCGPIO 400FE608

Symbol: SYSCTL_RCGCGPIO
   Definitions
      At line 1 in file SCREEN_INIT.s
   Uses
      At line 33 in file SCREEN_INIT.s
Comment: SYSCTL_RCGCGPIO used once



ARM Macro Assembler    Page 3 Alphabetic symbol ordering
Absolute symbols

SYSCTL_RCGCSSI 400FE61C

Symbol: SYSCTL_RCGCSSI
   Definitions
      At line 10 in file SCREEN_INIT.s
   Uses
      At line 61 in file SCREEN_INIT.s
Comment: SYSCTL_RCGCSSI used once
15 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

DELAY100 00000000

Symbol: DELAY100
   Definitions
      At line 23 in file SCREEN_INIT.s
   Uses
      At line 65 in file SCREEN_INIT.s
      At line 98 in file SCREEN_INIT.s

SCR_BYTE 00000000

Symbol: SCR_BYTE
   Definitions
      At line 26 in file SCREEN_INIT.s
   Uses
      At line 110 in file SCREEN_INIT.s
      At line 112 in file SCREEN_INIT.s
      At line 114 in file SCREEN_INIT.s
      At line 116 in file SCREEN_INIT.s
      At line 118 in file SCREEN_INIT.s
      At line 120 in file SCREEN_INIT.s
      At line 134 in file SCREEN_INIT.s

SCR_CHAR 00000000

Symbol: SCR_CHAR
   Definitions
      At line 25 in file SCREEN_INIT.s
   Uses
      None
Comment: SCR_CHAR unused
SCR_XY 00000000

Symbol: SCR_XY
   Definitions
      At line 24 in file SCREEN_INIT.s
   Uses
      None
Comment: SCR_XY unused
4 symbols
361 symbols in table
